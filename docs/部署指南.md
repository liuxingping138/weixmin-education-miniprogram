# å¾®ä¿¡å°ç¨‹åºæ•™è‚²å¹³å° - éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å°†å¾®ä¿¡å°ç¨‹åºæ•™è‚²å¹³å°ä»å¼€å‘ç¯å¢ƒéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ŒåŒ…æ‹¬ä»£ç å‡†å¤‡ã€é…ç½®è°ƒæ•´ã€å®¡æ ¸å‘å¸ƒç­‰å®Œæ•´æµç¨‹ã€‚

## ğŸ¯ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¯å¢ƒè¦æ±‚

#### å¼€å‘ç¯å¢ƒ
- **å¾®ä¿¡å¼€å‘è€…å·¥å…·**: >= 1.06.0
- **Node.js**: >= 14.0.0
- **npm**: >= 6.0.0
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.14+, Ubuntu 18.04+

#### ç”Ÿäº§ç¯å¢ƒ
- **å¾®ä¿¡å°ç¨‹åºå¹³å°**: å·²æ³¨å†Œå¹¶è®¤è¯çš„å°ç¨‹åºè´¦å·
- **æœåŠ¡å™¨**: æ”¯æŒHTTPSçš„WebæœåŠ¡å™¨ï¼ˆå¦‚éœ€åç«¯æ”¯æŒï¼‰
- **åŸŸå**: å·²å¤‡æ¡ˆçš„åŸŸåï¼ˆå¦‚éœ€åç«¯æ”¯æŒï¼‰
- **SSLè¯ä¹¦**: æœ‰æ•ˆçš„SSLè¯ä¹¦

### 2. è´¦å·å‡†å¤‡

#### å¾®ä¿¡å°ç¨‹åºè´¦å·
1. **æ³¨å†Œå°ç¨‹åºè´¦å·**
   - è®¿é—® [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
   - é€‰æ‹©"å°ç¨‹åº"ç±»å‹è¿›è¡Œæ³¨å†Œ
   - å®Œæˆé‚®ç®±éªŒè¯å’Œä¿¡æ¯ç™»è®°

2. **å®Œæˆè®¤è¯**
   - æäº¤ä¼ä¸šæˆ–ä¸ªäººè®¤è¯èµ„æ–™
   - æ”¯ä»˜è®¤è¯è´¹ç”¨ï¼ˆä¼ä¸š300å…ƒ/å¹´ï¼‰
   - ç­‰å¾…å®¡æ ¸é€šè¿‡

3. **è·å–AppID**
   - ç™»å½•å°ç¨‹åºç®¡ç†åå°
   - åœ¨"å¼€å‘" -> "å¼€å‘ç®¡ç†" -> "å¼€å‘è®¾ç½®"ä¸­è·å–AppID

#### å¼€å‘è€…æƒé™
1. **æ·»åŠ å¼€å‘è€…**
   - åœ¨"æˆå‘˜ç®¡ç†"ä¸­æ·»åŠ å¼€å‘è€…
   - åˆ†é…ç›¸åº”çš„æƒé™ï¼ˆå¼€å‘è€…æƒé™ã€ä½“éªŒè€…æƒé™ç­‰ï¼‰

2. **é…ç½®æœåŠ¡å™¨åŸŸå**ï¼ˆå¦‚éœ€åç«¯æ”¯æŒï¼‰
   - åœ¨"å¼€å‘è®¾ç½®"ä¸­é…ç½®requeståˆæ³•åŸŸå
   - é…ç½®socketåˆæ³•åŸŸåï¼ˆå¦‚éœ€WebSocketï¼‰
   - é…ç½®uploadFileåˆæ³•åŸŸåï¼ˆå¦‚éœ€æ–‡ä»¶ä¸Šä¼ ï¼‰
   - é…ç½®downloadFileåˆæ³•åŸŸåï¼ˆå¦‚éœ€æ–‡ä»¶ä¸‹è½½ï¼‰

## ğŸ”§ ä»£ç å‡†å¤‡

### 1. ç¯å¢ƒé…ç½®

#### æ›´æ–°é¡¹ç›®é…ç½®
```json
// project.config.json
{
  "appid": "ä½ çš„å°ç¨‹åºAppID",
  "projectname": "å¾®ä¿¡å°ç¨‹åºæ•™è‚²å¹³å°",
  "setting": {
    "urlCheck": true,
    "es6": true,
    "enhance": true,
    "postcss": true,
    "preloadBackgroundData": false,
    "minified": true,
    "newFeature": true,
    "coverView": true,
    "nodeModules": false,
    "autoAudits": true,
    "showShadowRootInWxmlPanel": true,
    "scopeDataCheck": false,
    "uglifyFileName": false,
    "checkInvalidKey": true,
    "checkSiteMap": true,
    "uploadWithSourceMap": true,
    "compileHotReLoad": false,
    "lazyloadPlaceholderEnable": false,
    "useMultiFrameRuntime": true,
    "useApiHook": true,
    "useApiHostProcess": true,
    "babelSetting": {
      "ignore": [],
      "disablePlugins": [],
      "outputPath": ""
    },
    "enableEngineNative": false,
    "useIsolateContext": false,
    "userConfirmedBundleSwitch": false,
    "packNpmManually": false,
    "packNpmRelationList": [],
    "minifyWXSS": true,
    "disableUseStrict": false,
    "minifyWXML": true,
    "showES6CompileOption": false,
    "useCompilerPlugins": false
  },
  "compileType": "miniprogram",
  "libVersion": "2.19.4",
  "condition": {}
}
```

#### æ›´æ–°åº”ç”¨é…ç½®
```json
// app.json
{
  "pages": [
    "pages/index/index",
    "pages/login/login",
    "pages/register/register",
    "pages/homework/homework",
    "pages/class/class",
    "pages/ai/ai",
    "pages/points/points",
    "pages/parent/parent",
    "pages/mistakes/mistakes",
    "pages/courseware/courseware",
    "pages/practice/practice",
    "pages/growth/growth",
    "pages/profile/profile",
    "pages/shop/shop",
    "pages/settings/settings"
  ],
  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#1890ff",
    "navigationBarTitleText": "æ•™è‚²å¹³å°",
    "navigationBarTextStyle": "white",
    "backgroundColor": "#f5f5f5"
  },
  "tabBar": {
    "color": "#8c8c8c",
    "selectedColor": "#1890ff",
    "backgroundColor": "#ffffff",
    "borderStyle": "black",
    "list": [
      {
        "pagePath": "pages/index/index",
        "text": "é¦–é¡µ",
        "iconPath": "images/tab-home.png",
        "selectedIconPath": "images/tab-home-active.png"
      },
      {
        "pagePath": "pages/homework/homework",
        "text": "ä½œä¸š",
        "iconPath": "images/tab-homework.png",
        "selectedIconPath": "images/tab-homework-active.png"
      },
      {
        "pagePath": "pages/class/class",
        "text": "ç­çº§",
        "iconPath": "images/tab-class.png",
        "selectedIconPath": "images/tab-class-active.png"
      },
      {
        "pagePath": "pages/ai/ai",
        "text": "AIåŠ©æ‰‹",
        "iconPath": "images/tab-ai.png",
        "selectedIconPath": "images/tab-ai-active.png"
      },
      {
        "pagePath": "pages/profile/profile",
        "text": "æˆ‘çš„",
        "iconPath": "images/tab-profile.png",
        "selectedIconPath": "images/tab-profile-active.png"
      }
    ]
  },
  "permission": {
    "scope.userLocation": {
      "desc": "æ‚¨çš„ä½ç½®ä¿¡æ¯å°†ç”¨äºæä¾›æ›´å¥½çš„æ•™è‚²æœåŠ¡"
    }
  },
  "requiredBackgroundModes": ["audio"],
  "plugins": {},
  "usingComponents": {
    "t-button": "tdesign-miniprogram/button/button",
    "t-input": "tdesign-miniprogram/input/input",
    "t-cell": "tdesign-miniprogram/cell/cell",
    "t-icon": "tdesign-miniprogram/icon/icon",
    "t-loading": "tdesign-miniprogram/loading/loading",
    "t-toast": "tdesign-miniprogram/toast/toast",
    "t-dialog": "tdesign-miniprogram/dialog/dialog",
    "t-tabs": "tdesign-miniprogram/tabs/tabs",
    "t-tab-panel": "tdesign-miniprogram/tab-panel/tab-panel"
  },
  "sitemapLocation": "sitemap.json",
  "lazyCodeLoading": "requiredComponents"
}
```

### 2. ç”Ÿäº§ç¯å¢ƒé…ç½®

#### å…³é—­Mockæ•°æ®
```javascript
// utils/mockConfig.js
const mockConfig = {
  enabled: false, // ç”Ÿäº§ç¯å¢ƒå…³é—­Mock
  delay: 0,
  routes: {
    // Mockè·¯ç”±é…ç½®ä¿ç•™ï¼Œä½†ä¸ä¼šè¢«ä½¿ç”¨
  }
};

module.exports = mockConfig;
```

#### é…ç½®ç”Ÿäº§APIåœ°å€
```javascript
// utils/config.js
const config = {
  // æ ¹æ®ç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢APIåœ°å€
  apiBaseUrl: process.env.NODE_ENV === 'production' 
    ? 'https://api.yourdomain.com' 
    : 'https://dev-api.yourdomain.com',
  
  // å…¶ä»–é…ç½®
  timeout: 10000,
  retryTimes: 3,
  enableLog: process.env.NODE_ENV !== 'production'
};

module.exports = config;
```

#### æ›´æ–°è¯·æ±‚å·¥å…·
```javascript
// utils/request.js
const config = require('./config');
const mockConfig = require('./mockConfig');

class Request {
  constructor() {
    this.baseURL = config.apiBaseUrl;
    this.timeout = config.timeout;
  }
  
  request(options) {
    return new Promise((resolve, reject) => {
      // ç”Ÿäº§ç¯å¢ƒä¸ä½¿ç”¨Mockæ•°æ®
      if (mockConfig.enabled && mockConfig.routes[options.url]) {
        setTimeout(() => {
          resolve(mockConfig.routes[options.url](options));
        }, mockConfig.delay);
        return;
      }
      
      wx.request({
        url: this.baseURL + options.url,
        method: options.method || 'GET',
        data: options.data,
        timeout: this.timeout,
        header: {
          'Content-Type': 'application/json',
          ...options.header
        },
        success: (res) => {
          if (res.statusCode === 200) {
            resolve(res.data);
          } else {
            reject(new Error(`è¯·æ±‚å¤±è´¥: ${res.statusCode}`));
          }
        },
        fail: reject
      });
    });
  }
}

module.exports = new Request();
```

### 3. ä»£ç ä¼˜åŒ–

#### ç§»é™¤è°ƒè¯•ä»£ç 
```bash
# ä½¿ç”¨è„šæœ¬ç§»é™¤console.logç­‰è°ƒè¯•ä»£ç 
find . -name "*.js" -not -path "./node_modules/*" -exec sed -i '/console\./d' {} \;
```

#### å‹ç¼©å›¾ç‰‡èµ„æº
```bash
# ä½¿ç”¨imageminç­‰å·¥å…·å‹ç¼©å›¾ç‰‡
npm install -g imagemin-cli imagemin-pngquant imagemin-mozjpeg

# å‹ç¼©PNGå›¾ç‰‡
imagemin images/*.png --out-dir=images --plugin=pngquant

# å‹ç¼©JPGå›¾ç‰‡
imagemin images/*.jpg --out-dir=images --plugin=mozjpeg
```

#### ä»£ç æ£€æŸ¥
```bash
# è¿è¡ŒESLintæ£€æŸ¥
npm run lint

# ä¿®å¤å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜
npm run lint:fix

# è¿è¡Œæµ‹è¯•
npm run test
```

## ğŸš€ éƒ¨ç½²æµç¨‹

### 1. å¼€å‘ç‰ˆæœ¬éƒ¨ç½²

#### ä¸Šä¼ ä»£ç 
1. **æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·**
2. **é€‰æ‹©é¡¹ç›®ç›®å½•**
3. **ç‚¹å‡»"ä¸Šä¼ "æŒ‰é’®**
4. **å¡«å†™ç‰ˆæœ¬å·å’Œé¡¹ç›®å¤‡æ³¨**
   ```
   ç‰ˆæœ¬å·: 1.0.0
   é¡¹ç›®å¤‡æ³¨: æ­£å¼ç‰ˆæœ¬ï¼ŒåŒ…å«å®Œæ•´åŠŸèƒ½
   ```
5. **ç‚¹å‡»"ä¸Šä¼ "å®Œæˆä»£ç ä¸Šä¼ **

#### è®¾ç½®ä½“éªŒç‰ˆæœ¬
1. **ç™»å½•å°ç¨‹åºç®¡ç†åå°**
2. **è¿›å…¥"ç‰ˆæœ¬ç®¡ç†"é¡µé¢**
3. **åœ¨"å¼€å‘ç‰ˆæœ¬"ä¸­æ‰¾åˆ°åˆšä¸Šä¼ çš„ç‰ˆæœ¬**
4. **ç‚¹å‡»"é€‰ä¸ºä½“éªŒç‰ˆ"**
5. **ç”Ÿæˆä½“éªŒç‰ˆäºŒç»´ç ä¾›æµ‹è¯•**

### 2. ä½“éªŒç‰ˆæµ‹è¯•

#### åŠŸèƒ½æµ‹è¯•æ¸…å•
- [ ] ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½
- [ ] ä½œä¸šç®¡ç†åŠŸèƒ½
- [ ] ç­çº§ç®¡ç†åŠŸèƒ½
- [ ] AIåŠ©æ‰‹åŠŸèƒ½
- [ ] ç§¯åˆ†ç³»ç»ŸåŠŸèƒ½
- [ ] å®¶é•¿ç«¯åŠŸèƒ½
- [ ] é”™é¢˜æœ¬åŠŸèƒ½
- [ ] è¯¾ä»¶ç®¡ç†åŠŸèƒ½
- [ ] é¡µé¢è·³è½¬å’Œå¯¼èˆª
- [ ] æ•°æ®å­˜å‚¨å’ŒåŒæ­¥
- [ ] ç½‘ç»œè¯·æ±‚å¤„ç†
- [ ] é”™è¯¯å¤„ç†æœºåˆ¶

#### å…¼å®¹æ€§æµ‹è¯•
- [ ] iOSç³»ç»Ÿå…¼å®¹æ€§
- [ ] Androidç³»ç»Ÿå…¼å®¹æ€§
- [ ] ä¸åŒå±å¹•å°ºå¯¸é€‚é…
- [ ] ä¸åŒå¾®ä¿¡ç‰ˆæœ¬å…¼å®¹æ€§
- [ ] ç½‘ç»œå¼‚å¸¸å¤„ç†
- [ ] æ€§èƒ½è¡¨ç°æµ‹è¯•

#### ç”¨æˆ·ä½“éªŒæµ‹è¯•
- [ ] ç•Œé¢ç¾è§‚åº¦
- [ ] æ“ä½œæµç•…æ€§
- [ ] å“åº”é€Ÿåº¦
- [ ] é”™è¯¯æç¤ºå‹å¥½æ€§
- [ ] åŠ è½½çŠ¶æ€æç¤º
- [ ] æ— éšœç¢è®¿é—®æ”¯æŒ

### 3. æäº¤å®¡æ ¸

#### å®¡æ ¸å‰æ£€æŸ¥
1. **å®Œå–„å°ç¨‹åºä¿¡æ¯**
   - å°ç¨‹åºåç§°
   - å°ç¨‹åºç®€ä»‹
   - å°ç¨‹åºå¤´åƒ
   - æœåŠ¡ç±»ç›®
   - æ ‡ç­¾è®¾ç½®

2. **éšç§è®¾ç½®**
   - ç”¨æˆ·éšç§ä¿æŠ¤æŒ‡å¼•
   - æ•°æ®æ”¶é›†ä½¿ç”¨è¯´æ˜
   - ç¬¬ä¸‰æ–¹SDKä½¿ç”¨è¯´æ˜

3. **åŠŸèƒ½é¡µé¢è®¾ç½®**
   - è®¾ç½®å°ç¨‹åºçš„åŠŸèƒ½é¡µé¢
   - é…ç½®æœç´¢å…³é”®è¯
   - è®¾ç½®å®¢æœè”ç³»æ–¹å¼

#### æäº¤å®¡æ ¸
1. **è¿›å…¥"ç‰ˆæœ¬ç®¡ç†"é¡µé¢**
2. **ç‚¹å‡»ä½“éªŒç‰ˆçš„"æäº¤å®¡æ ¸"**
3. **å¡«å†™å®¡æ ¸ä¿¡æ¯**
   ```
   åŠŸèƒ½æè¿°: æ•™è‚²ç±»å°ç¨‹åºï¼Œæä¾›ä½œä¸šç®¡ç†ã€ç­çº§ç®¡ç†ã€AIåŠ©æ‰‹ç­‰åŠŸèƒ½
   æµ‹è¯•è´¦å·: test@example.com / 123456
   è¡¥å……è¯´æ˜: æœ¬å°ç¨‹åºä¸ºæ•™è‚²è¾…åŠ©å·¥å…·ï¼Œä¸æ¶‰åŠä»˜è´¹å†…å®¹
   ```
4. **é€‰æ‹©æœåŠ¡ç±»ç›®**: æ•™è‚² -> åœ¨çº¿æ•™è‚²
5. **ä¸Šä¼ å®¡æ ¸ææ–™**ï¼ˆå¦‚éœ€è¦ï¼‰
6. **æäº¤å®¡æ ¸ç”³è¯·**

#### å®¡æ ¸æ³¨æ„äº‹é¡¹
- **å†…å®¹åˆè§„**: ç¡®ä¿å†…å®¹ç¬¦åˆå¾®ä¿¡å°ç¨‹åºè§„èŒƒ
- **åŠŸèƒ½å®Œæ•´**: æ‰€æœ‰åŠŸèƒ½éƒ½èƒ½æ­£å¸¸ä½¿ç”¨
- **ç”¨æˆ·ä½“éªŒ**: ç•Œé¢å‹å¥½ï¼Œæ“ä½œæµç•…
- **éšç§ä¿æŠ¤**: æ˜ç¡®è¯´æ˜æ•°æ®æ”¶é›†å’Œä½¿ç”¨æ–¹å¼
- **æµ‹è¯•è´¦å·**: æä¾›å¯ç”¨çš„æµ‹è¯•è´¦å·å’Œå¯†ç 

### 4. å‘å¸ƒä¸Šçº¿

#### å®¡æ ¸é€šè¿‡å
1. **æ”¶åˆ°å®¡æ ¸é€šè¿‡é€šçŸ¥**
2. **è¿›å…¥"ç‰ˆæœ¬ç®¡ç†"é¡µé¢**
3. **ç‚¹å‡»"å‘å¸ƒ"æŒ‰é’®**
4. **ç¡®è®¤å‘å¸ƒä¿¡æ¯**
5. **ç‚¹å‡»"ç¡®å®š"å®Œæˆå‘å¸ƒ**

#### å‘å¸ƒåæ“ä½œ
1. **ç›‘æ§çº¿ä¸Šè¿è¡ŒçŠ¶æ€**
2. **å…³æ³¨ç”¨æˆ·åé¦ˆ**
3. **å¤„ç†ç´§æ€¥é—®é¢˜**
4. **æ”¶é›†ä½¿ç”¨æ•°æ®**

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### 1. æ•°æ®ç›‘æ§

#### å°ç¨‹åºæ•°æ®åŠ©æ‰‹
- **ç”¨æˆ·è®¿é—®æ•°æ®**: æ—¥æ´»ã€æœˆæ´»ã€æ–°å¢ç”¨æˆ·ç­‰
- **ä½¿ç”¨è¡Œä¸ºæ•°æ®**: é¡µé¢è®¿é—®ã€åŠŸèƒ½ä½¿ç”¨ã€ç”¨æˆ·è·¯å¾„ç­‰
- **æ€§èƒ½æ•°æ®**: å¯åŠ¨è€—æ—¶ã€é¡µé¢åˆ‡æ¢è€—æ—¶ç­‰
- **é”™è¯¯æ•°æ®**: å¼‚å¸¸ç‡ã€é”™è¯¯ç±»å‹ã€å½±å“ç”¨æˆ·æ•°ç­‰

#### è‡ªå®šä¹‰æ•°æ®ç»Ÿè®¡
```javascript
// åŸ‹ç‚¹ç»Ÿè®¡
function trackEvent(eventName, params = {}) {
  wx.reportAnalytics(eventName, {
    ...params,
    timestamp: Date.now(),
    page: getCurrentPages().pop().route
  });
}

// ä½¿ç”¨ç¤ºä¾‹
trackEvent('homework_submit', {
  homework_id: 'hw_001',
  subject: 'math',
  completion_time: 1800 // ç§’
});
```

### 2. é”™è¯¯ç›‘æ§

#### å…¨å±€é”™è¯¯å¤„ç†
```javascript
// app.js
App({
  onError(error) {
    console.error('å°ç¨‹åºé”™è¯¯:', error);
    
    // ä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯
    this.reportError({
      error: error.toString(),
      stack: error.stack,
      timestamp: Date.now(),
      version: this.globalData.version,
      systemInfo: wx.getSystemInfoSync()
    });
  },
  
  reportError(errorInfo) {
    wx.request({
      url: 'https://api.yourdomain.com/error-report',
      method: 'POST',
      data: errorInfo,
      fail: (err) => {
        console.error('é”™è¯¯ä¸ŠæŠ¥å¤±è´¥:', err);
      }
    });
  }
});
```

#### é¡µé¢é”™è¯¯å¤„ç†
```javascript
Page({
  onError(error) {
    console.error('é¡µé¢é”™è¯¯:', error);
    
    // æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º
    wx.showToast({
      title: 'æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•',
      icon: 'none'
    });
  }
});
```

### 3. æ€§èƒ½ç›‘æ§

#### å¯åŠ¨æ€§èƒ½ç›‘æ§
```javascript
// app.js
App({
  onLaunch() {
    const startTime = Date.now();
    
    // åº”ç”¨å¯åŠ¨å®Œæˆåè®°å½•è€—æ—¶
    wx.onAppShow(() => {
      const launchTime = Date.now() - startTime;
      console.log('åº”ç”¨å¯åŠ¨è€—æ—¶:', launchTime);
      
      // ä¸ŠæŠ¥å¯åŠ¨æ€§èƒ½æ•°æ®
      this.reportPerformance('app_launch', launchTime);
    });
  },
  
  reportPerformance(metric, value) {
    wx.reportAnalytics('performance', {
      metric,
      value,
      timestamp: Date.now()
    });
  }
});
```

#### é¡µé¢æ€§èƒ½ç›‘æ§
```javascript
Page({
  onLoad() {
    this.loadStartTime = Date.now();
  },
  
  onReady() {
    const loadTime = Date.now() - this.loadStartTime;
    console.log('é¡µé¢åŠ è½½è€—æ—¶:', loadTime);
    
    // ä¸ŠæŠ¥é¡µé¢æ€§èƒ½æ•°æ®
    getApp().reportPerformance('page_load', loadTime);
  }
});
```

### 4. ç‰ˆæœ¬æ›´æ–°

#### ç‰ˆæœ¬æ›´æ–°æ£€æµ‹
```javascript
// app.js
App({
  onLaunch() {
    this.checkForUpdate();
  },
  
  checkForUpdate() {
    const updateManager = wx.getUpdateManager();
    
    updateManager.onCheckForUpdate((res) => {
      if (res.hasUpdate) {
        console.log('å‘ç°æ–°ç‰ˆæœ¬');
      }
    });
    
    updateManager.onUpdateReady(() => {
      wx.showModal({
        title: 'æ›´æ–°æç¤º',
        content: 'æ–°ç‰ˆæœ¬å·²ç»å‡†å¤‡å¥½ï¼Œæ˜¯å¦é‡å¯åº”ç”¨ï¼Ÿ',
        success: (res) => {
          if (res.confirm) {
            updateManager.applyUpdate();
          }
        }
      });
    });
    
    updateManager.onUpdateFailed(() => {
      console.error('æ–°ç‰ˆæœ¬ä¸‹è½½å¤±è´¥');
    });
  }
});
```

#### ç‰ˆæœ¬å‘å¸ƒæµç¨‹
1. **å¼€å‘æ–°åŠŸèƒ½**
2. **æµ‹è¯•éªŒè¯**
3. **æ›´æ–°ç‰ˆæœ¬å·**
4. **ä¸Šä¼ ä»£ç **
5. **è®¾ç½®ä½“éªŒç‰ˆ**
6. **å†…éƒ¨æµ‹è¯•**
7. **æäº¤å®¡æ ¸**
8. **å‘å¸ƒä¸Šçº¿**

## ğŸ”’ å®‰å…¨é…ç½®

### 1. åŸŸåé…ç½®

#### æœåŠ¡å™¨åŸŸåè®¾ç½®
```
requeståˆæ³•åŸŸå:
- https://api.yourdomain.com
- https://cdn.yourdomain.com

uploadFileåˆæ³•åŸŸå:
- https://upload.yourdomain.com

downloadFileåˆæ³•åŸŸå:
- https://download.yourdomain.com

socketåˆæ³•åŸŸå:
- wss://ws.yourdomain.com
```

### 2. æ•°æ®å®‰å…¨

#### HTTPSé…ç½®
- æ‰€æœ‰APIæ¥å£å¿…é¡»ä½¿ç”¨HTTPS
- SSLè¯ä¹¦å¿…é¡»æœ‰æ•ˆä¸”æœªè¿‡æœŸ
- æ”¯æŒTLS 1.2åŠä»¥ä¸Šç‰ˆæœ¬

#### æ•°æ®åŠ å¯†
```javascript
// æ•æ„Ÿæ•°æ®åŠ å¯†
function encryptData(data, key) {
  // ä½¿ç”¨AESåŠ å¯†ç®—æ³•
  const encrypted = CryptoJS.AES.encrypt(JSON.stringify(data), key).toString();
  return encrypted;
}

// æ•°æ®è§£å¯†
function decryptData(encryptedData, key) {
  const decrypted = CryptoJS.AES.decrypt(encryptedData, key);
  return JSON.parse(decrypted.toString(CryptoJS.enc.Utf8));
}
```

### 3. æƒé™æ§åˆ¶

#### ç”¨æˆ·æƒé™éªŒè¯
```javascript
// æƒé™æ£€æŸ¥ä¸­é—´ä»¶
function checkPermission(requiredRole) {
  return function(req, res, next) {
    const userRole = req.user.role;
    
    if (!hasPermission(userRole, requiredRole)) {
      return res.status(403).json({
        code: 403,
        message: 'æƒé™ä¸è¶³'
      });
    }
    
    next();
  };
}

// æƒé™åˆ¤æ–­
function hasPermission(userRole, requiredRole) {
  const roleHierarchy = {
    'student': 1,
    'teacher': 2,
    'admin': 3
  };
  
  return roleHierarchy[userRole] >= roleHierarchy[requiredRole];
}
```

## ğŸ“ˆ è¿è¥æ”¯æŒ

### 1. æ•°æ®åˆ†æ

#### å…³é”®æŒ‡æ ‡ç›‘æ§
- **ç”¨æˆ·æŒ‡æ ‡**: DAUã€MAUã€ç•™å­˜ç‡ã€æµå¤±ç‡
- **åŠŸèƒ½æŒ‡æ ‡**: ä½œä¸šå®Œæˆç‡ã€AIä½¿ç”¨ç‡ã€ç§¯åˆ†è·å–ç‡
- **æ€§èƒ½æŒ‡æ ‡**: å¯åŠ¨æ—¶é—´ã€é¡µé¢åŠ è½½æ—¶é—´ã€é”™è¯¯ç‡
- **ä¸šåŠ¡æŒ‡æ ‡**: ç”¨æˆ·æ»¡æ„åº¦ã€åŠŸèƒ½ä½¿ç”¨æ·±åº¦

#### æ•°æ®æŠ¥è¡¨
```javascript
// ç”Ÿæˆæ•°æ®æŠ¥è¡¨
function generateReport(startDate, endDate) {
  return {
    userMetrics: {
      totalUsers: 10000,
      activeUsers: 8000,
      newUsers: 500,
      retentionRate: 0.85
    },
    featureMetrics: {
      homeworkCompletion: 0.92,
      aiUsage: 0.65,
      pointsEarned: 150000
    },
    performanceMetrics: {
      avgLaunchTime: 1200,
      avgPageLoadTime: 800,
      errorRate: 0.01
    }
  };
}
```

### 2. ç”¨æˆ·åé¦ˆ

#### åé¦ˆæ”¶é›†
```javascript
// ç”¨æˆ·åé¦ˆæäº¤
function submitFeedback(feedback) {
  wx.request({
    url: '/api/feedback',
    method: 'POST',
    data: {
      content: feedback.content,
      type: feedback.type,
      rating: feedback.rating,
      contact: feedback.contact,
      timestamp: Date.now(),
      version: getApp().globalData.version,
      systemInfo: wx.getSystemInfoSync()
    },
    success: () => {
      wx.showToast({
        title: 'åé¦ˆæäº¤æˆåŠŸ',
        icon: 'success'
      });
    }
  });
}
```

#### å®¢æœæ”¯æŒ
- **åœ¨çº¿å®¢æœ**: é›†æˆå®¢æœæ¶ˆæ¯åŠŸèƒ½
- **å¸®åŠ©æ–‡æ¡£**: æä¾›è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜
- **FAQ**: æ•´ç†å¸¸è§é—®é¢˜å’Œè§£ç­”
- **ç”¨æˆ·ç¤¾åŒº**: å»ºç«‹ç”¨æˆ·äº¤æµå¹³å°

## ğŸš¨ åº”æ€¥å¤„ç†

### 1. ç´§æ€¥ä¿®å¤æµç¨‹

#### å‘ç°ä¸¥é‡é—®é¢˜
1. **ç«‹å³è¯„ä¼°å½±å“èŒƒå›´**
2. **åˆ¶å®šä¿®å¤æ–¹æ¡ˆ**
3. **å¼€å‘ç´§æ€¥ä¿®å¤ç‰ˆæœ¬**
4. **å¿«é€Ÿæµ‹è¯•éªŒè¯**
5. **æäº¤ç´§æ€¥å®¡æ ¸**
6. **å‘å¸ƒä¿®å¤ç‰ˆæœ¬**

#### ç´§æ€¥å›æ»š
```javascript
// ç‰ˆæœ¬å›æ»šå‡†å¤‡
const rollbackPlan = {
  currentVersion: '1.0.1',
  previousVersion: '1.0.0',
  rollbackReason: 'ä¸¥é‡bugä¿®å¤',
  rollbackSteps: [
    '1. ä¸‹æ¶å½“å‰ç‰ˆæœ¬',
    '2. æ¢å¤ä¸Šä¸€ç‰ˆæœ¬',
    '3. é€šçŸ¥ç”¨æˆ·æ›´æ–°',
    '4. ç›‘æ§ç³»ç»ŸçŠ¶æ€'
  ]
};
```

### 2. æ•…éšœå¤„ç†

#### æœåŠ¡å™¨æ•…éšœ
- **ç›‘æ§å‘Šè­¦**: è®¾ç½®æœåŠ¡å™¨ç›‘æ§å’Œå‘Šè­¦
- **å¤‡ä»½æ–¹æ¡ˆ**: å‡†å¤‡å¤‡ç”¨æœåŠ¡å™¨å’Œæ•°æ®å¤‡ä»½
- **é™çº§ç­–ç•¥**: å…³é”®åŠŸèƒ½é™çº§æ–¹æ¡ˆ
- **é€šä¿¡æœºåˆ¶**: å»ºç«‹æ•…éšœé€šçŸ¥æœºåˆ¶

#### æ•°æ®æ¢å¤
```bash
# æ•°æ®åº“å¤‡ä»½
mysqldump -u username -p database_name > backup.sql

# æ•°æ®æ¢å¤
mysql -u username -p database_name < backup.sql
```

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] AppIDé…ç½®æ­£ç¡®
- [ ] ç”Ÿäº§ç¯å¢ƒé…ç½®å®Œæˆ
- [ ] Mockæ•°æ®å·²å…³é—­
- [ ] è°ƒè¯•ä»£ç å·²ç§»é™¤
- [ ] å›¾ç‰‡èµ„æºå·²ä¼˜åŒ–
- [ ] ä»£ç æ£€æŸ¥é€šè¿‡
- [ ] åŠŸèƒ½æµ‹è¯•å®Œæˆ
- [ ] å…¼å®¹æ€§æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•è¾¾æ ‡

### å®¡æ ¸å‰æ£€æŸ¥
- [ ] å°ç¨‹åºä¿¡æ¯å®Œå–„
- [ ] éšç§æ”¿ç­–è®¾ç½®
- [ ] æœåŠ¡ç±»ç›®æ­£ç¡®
- [ ] æµ‹è¯•è´¦å·å¯ç”¨
- [ ] åŠŸèƒ½æè¿°å‡†ç¡®
- [ ] å®¡æ ¸ææ–™é½å…¨

### å‘å¸ƒåæ£€æŸ¥
- [ ] çº¿ä¸ŠåŠŸèƒ½æ­£å¸¸
- [ ] æ•°æ®ç›‘æ§æ­£å¸¸
- [ ] é”™è¯¯ç‡åœ¨æ­£å¸¸èŒƒå›´
- [ ] ç”¨æˆ·åé¦ˆè‰¯å¥½
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

---

é€šè¿‡éµå¾ªè¿™ä»½éƒ¨ç½²æŒ‡å—ï¼Œæ‚¨å¯ä»¥é¡ºåˆ©åœ°å°†å¾®ä¿¡å°ç¨‹åºæ•™è‚²å¹³å°éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åŠæ—¶è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚