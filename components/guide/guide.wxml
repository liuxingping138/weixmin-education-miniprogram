<!--components/guide/guide.wxml-->
<view class="guide-overlay" wx:if="{{show}}" bindtap="closeGuide">
  <view class="guide-content" catchtap="preventBubble">
    <view class="guide-step" wx:if="{{steps[currentStep]}}">
      <view class="guide-icon">
        <t-icon name="{{steps[currentStep].icon || 'help-circle'}}" size="60rpx" color="#667eea"></t-icon>
      </view>
      
      <text class="guide-title">{{steps[currentStep].title}}</text>
      <text class="guide-text">{{steps[currentStep].content}}</text>
      
      <view class="guide-actions">
        <button 
          class="guide-btn secondary" 
          wx:if="{{currentStep > 0}}" 
          bindtap="prevStep"
        >
          上一步
        </button>
        
        <button 
          class="guide-btn secondary" 
          bindtap="skipGuide"
        >
          跳过
        </button>
        
        <button 
          class="guide-btn primary" 
          bindtap="nextStep"
        >
          {{currentStep < steps.length - 1 ? '下一步' : '完成'}}
        </button>
      </view>
      
      <view class="guide-progress">
        <view class="progress-dots">
          <view 
            class="progress-dot {{index <= currentStep ? 'active' : ''}}" 
            wx:for="{{steps}}" 
            wx:key="index"
          ></view>
        </view>
        <text class="progress-text">{{currentStep + 1}}/{{steps.length}}</text>
      </view>
    </view>
  </view>
</view>